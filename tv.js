img = "";
status = "";
objects = "";

function preload() {
    img= loadImage('data:image/jpeg;base64,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');

}



function setup() {
    canvas = createCanvas(640, 420);
    canvas.center();
    objectDetector = ml5.objectDetector('cocossd', modelLoaded);
  document.getElementById("status").innerHTML = "Status : Detecting Objects";
}


function draw () {
     image (img, 0, 0, 640, 420);

     for (var i = 0; i < objects.length; i++) {
      document.getElementById("status").innerHTML = "Status : 1 big object detected by cocossd";

      fill(255, 0, 0);
      percent = floor(objects[i].confidence * 100);
      text(objects[i].label + " " + percent + "%", objects[i].x + 15, objects[i].y + 15);
      noFill();
      stroke(255, 0, 0);
      rect(objects[i].x, objects[i].y, objects[i].width, objects[i].height);
    }
    
}

function modelLoaded() {
    console.log("Model Loaded!")
    status = true;
    objectDetector.detect(img, gotResult);
  }
  function gotResult(error, results) {
    if (error) {
      console.log(error);
    }
    console.log(results);
    objects=results;
    
  }
  
    